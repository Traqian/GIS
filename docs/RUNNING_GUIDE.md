# 校园地理信息系统运行指南

## 1. 环境准备

### 1.1 硬件要求
- CPU：4 核心或以上
- 内存：8GB RAM 或以上
- 磁盘：20GB 可用空间
- 网络：稳定互联网连接

### 1.2 软件要求
- Docker 20.10+
- Docker Compose 2.0+
- Git
- Web 浏览器（Chrome、Firefox、Edge）

## 2. 部署方式

### 2.1 使用 Docker 部署（推荐）
```bash
# 1. 克隆项目
$ git clone https://github.com/yourusername/campus-gis.git
$ cd campus-gis

# 2. 构建并启动所有服务
$ docker-compose up -d --build

# 3. 等待服务启动完成
# 可以通过以下命令查看服务状态
$ docker-compose ps

# 4. 访问系统
# 打开浏览器访问：http://localhost:3000
```

### 2.2 手动部署
#### 2.2.1 后端部署
```bash
# 1. 进入后端目录
$ cd backend

# 2. 安装依赖
$ npm install

# 3. 配置环境变量
$ cp .env.example .env
# 编辑 .env 文件，配置数据库连接等信息

# 4. 启动后端服务
$ npm start
```

#### 2.2.2 前端部署
```bash
# 1. 进入前端目录
$ cd frontend

# 2. 安装依赖
$ npm install

# 3. 配置环境变量
# 在 .env 文件中配置 REACT_APP_API_URL

# 4. 启动前端服务
$ npm start
```

## 3. 访问系统

### 3.1 系统地址
- 默认访问地址：http://localhost:3000
- 后端 API 地址：http://localhost:3000/api

### 3.2 登录系统
1. 打开浏览器访问 http://localhost:3000
2. 系统会自动进入主界面
3. 如果需要登录，点击右上角登录按钮
4. 输入账号密码进行登录

## 4. 使用说明

### 4.1 地图功能
1. 在主界面可以看到校园地图
2. 使用鼠标滚轮缩放地图
3. 使用鼠标拖拽平移地图
4. 点击建筑物标记查看详细信息

### 4.2 导航功能
1. 点击导航按钮
2. 选择起点和终点
3. 选择导航模式
4. 开始导航

### 4.3 语音功能
1. 点击语音按钮
2. 说出指令（如"导航到图书馆"）
3. 等待系统响应
4. 根据提示操作

## 5. 常见问题

### 5.1 启动问题
- 服务启动失败：检查 Docker 状态
- 端口冲突：修改配置文件中的端口
- 数据库连接失败：检查数据库服务

### 5.2 访问问题
- 页面无法访问：检查网络连接
- 页面加载慢：检查服务器性能
- 功能异常：查看浏览器控制台

### 5.3 功能问题
- 导航不准确：检查 GPS 权限
- 语音识别失败：检查麦克风
- 数据显示异常：刷新页面

## 6. 系统维护

### 6.1 日常维护
- 定期检查服务状态
- 监控系统性能
- 备份数据
- 更新安全补丁

### 6.2 故障处理
1. 检查服务状态
2. 查看日志文件
3. 重启服务
4. 联系技术支持

## 7. 技术支持

### 7.1 联系方式
- 邮箱：support@campusgis.com
- 电话：+86-123456789
- QQ：123456789

### 7.2 支持时间
- 工作日：9:00-18:00
- 假日：10:00-17:00

## 8. 更新说明

### 8.1 更新方式
1. 停止服务
```bash
$ docker-compose down
```

2. 拉取最新代码
```bash
$ git pull origin main
```

3. 重新部署
```bash
$ docker-compose up -d --build
```

### 8.2 注意事项
- 更新前备份数据
- 测试新版本功能
- 记录更新日志

## 9. 安全说明

### 9.1 数据安全
- 数据加密存储
- 定期备份数据
- 严格访问控制

### 9.2 系统安全
- 定期更新补丁
- 防火墙配置
- 安全审计

## 10. 快捷键

### 10.1 地图操作
- Ctrl + +：放大地图
- Ctrl + -：缩小地图
- Ctrl + 0：重置缩放

### 10.2 导航操作
- F5：刷新页面
- Esc：取消操作
- Enter：确认选择
